* TextWorks Project Tasks, Roadmap

** Near future Roadmap
       
** Project structure

** Options for extraction (either rich-text formatting or json)
*** Visual Flow
    try to match the text to the format in the PDF

*** Dehyphenated Visual Flow
    close to Visual, but hyphenated words joined

*** Reading Flow
    Paragraphs, one per line

*** Paginated Reading Flow

*** Structured Text with left-col line BIO labels (para/section/authors/etc)


** TextWorks Documentation
*** README file
**** Basic usage for single-file extraction
**** Options
**** Output format description


** Layout Analysis Desired Features and improvements
*** Paragraph detection
*** dehyphenation support
*** Column detection is flaky
*** Combining marks are not being combined
*** Charts, Figures, Graphs + captions/legends/axes
*** Inset images
*** Table data
*** Footnotes, note marker x-ref
*** Formulas, non-inline math
*** Inset formulas w/numbering at right edge are not detected, and have specious sup/sub
*** Section detection
*** Elsevier footnote/copyright has incorrect spacing
*** Reference section is sometimes broken up into columns, one for markers, one for refs
*** no heading/bold/font change information
*** line w/ page number and journal header not distinct (represented as one visual line)
*** Table of Contents (esp. w/ .... separators) not detected/parsed properly
*** Columnar data not marked as such (e.g., author info blocks, vertically formatted keyword section)
*** No visual cues in text output wrt structure (e.g., indent paras, whitespace sep between paras)
*** No drop-cap detection, sometimes resulting in incorrect super/subscripts
*** Path-glyphs are not detected
*** Stacked super/subscripts are in indeterminate order
*** Whitespace sep. columns have no distinguishing extra space between tokens, e.g.
    "Adam Smith Rupert Murdoch" rather than "Adam Smith            Rupert Murdoch"
*** ISBN / DOI links to indicated books, articles, etc.




** All Labeling Methods    



*** Basics
**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/watrmarks/BioLabels.scala::sealed trait BioPin {][BioPin BioLabel]]
     id+label = string 
     ops = l1 / l2, qualified namespaces
    
*** Text/Char sequence based

**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/transcripts/Transcript.scala::object Transcript {][Transcript]]
     Serialization format for PDF extracted text with layout analysis information

****  [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/annots/LabeledSequence.scala::trait LabelTarget {][LabelSequence / LabelTarget]]
     > LabelTarget: Stack[BioPin]  
     > LabeledSequence: List[LabelTarget]
     Supports hierarchical labeling via pushing biolu pins in sequences of things 
     Used for nested labeling tasks over relatively short spans of text (names, affiliations, etc)
     Used By TextGrid

**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/annots/LabeledSequenceCodecs.scala::case class LabelSpan(][LabelSpan / LabelingTree]]
     > ('label-name', (start, len), [ .. children ])
     Serialization classes to support named, hierarchical out-of-band labels
     Used by obsolete TextGridLabelWidget, and LabeledSequenceCodecs

**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/textgrid/TextGrid.scala::trait TextGrid { self =>][TextGrid]]
     Grid-based representation of hierarchical nested labeling
     Operations:
     + split/slurp (split/join rows)
     + insert chars before/after glyphs 



**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/watrmarks/LabelSchemas.scala::case class LabelSchema(][LabelSchemas]]
     Specify a schema for hierarchical labeling task, like TextGridLabelWidget 

**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/watrmarks/CountedLabeling.scala::object WeightedLabeling {][WeightedLabeling]]
     Keep array of BioPins w/ops to uniq --count



**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/z_watr-works-vers/watr-works-scalajs-snapshot/watr-marks/shared/src/main/scala/edu/umass/cs/iesl/watr/textgrid/TextGridLabelWidget.scala::object TextGridLabelWidget {][TextGridLabelWidget]]
     Obsolete class used to support user interactive labeling via browser
     GraphPaper column(gloss) + row


**** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/watr-marks/src/main/scala/org/watrworks/annots/LabeledSequenceTreeTransforms.scala::object LabelTreeNode {][LabelTreeNode / LabeledRowElem]]
     From LabeledTreeTransforms
 

*** Geometry Based
    LabeledShape (rtree)

*** [[file:~/projects/the-livingroom/rexa-text-extractors/watr-works-projects/watr-works/text-works/src/main/scala/org/watrworks/segment/VisualLogging.scala::object TraceLog {][TraceLog]]
